function showNotificationStartGame(e){$("#start-game-notificacion #descripcion").html(e),$("#start-game-notificacion").addClass("show animated bounceIn"),setTimeout(function(){$("#start-game-notificacion").removeClass("bounceOutLeft"),$("#start-game-notificacion").addClass("bounceOut"),setTimeout(function(){$("#start-game-notificacion").removeClass("show animated bounceOut")},600)},3e3)}function salir(){socket.disconnect(),procesaRedirect("/lobby")}function settingGame(){var e={epoca:$("#epoca-juego").val(),tiempoTirada:$("#tiempo-tirada").val(),nick:jugador._nick,mesa:mesa._noMesa};socket.emit("reiniciarJuego",e)}function procesaRedirect(e){window.location.replace(e)}function defineStatusJuego(e,a){e?(e_btn_iniciar_juego.attr("disabled","disabled"),$(e_jugadores.selector+" .estado[data-jugador="+a+"]").addClass("turno")):e_btn_iniciar_juego.removeAttr("disabled")}function crearCasillas(e){var a=0;e_content_tablero.width()>330?(e_tablero.removeClass("tablero-responsive"),e_tablero.addClass("tablero"),a=e_tablero.width()/16):(e_tablero.removeClass("tablero"),e_tablero.addClass("tablero-responsive"),a=20);for(var t="",o=0;e>o;o++){for(var i='<div class="fila">',s=0;e>s;s++)i+='<div id="'+o+"-"+s+'" class="columna casilla" onclick="clicCasilla(this);" style="width: '+a+"px; height: "+a+'px;"></div>';i+="</div>",t+=i}e_tablero.html(t)}function resizeCasillas(){if(!e_tablero.is(":empty")){var e=0;e_content_tablero.width()>330?(e_tablero.removeClass("tablero-responsive"),e_tablero.addClass("tablero"),e=e_tablero.width()/16):(e_tablero.removeClass("tablero"),e_tablero.addClass("tablero-responsive"),e=20),$(e_tablero.selector+" div.columna").css("width",e),$(e_tablero.selector+" div.columna").css("height",e)}}function actualizarUsuarios(e){for(var a='<ul class="list-group">',t='<ul class="list-group">',o=0;o<e.length;o++)if(e[o]._activo){var i=stringListJugadores().replace("{data}",o);i=i.replace("{ficha}",e[o]._patrocinador.ficha),i=i.replace("{nombreFicha}",e[o]._patrocinador.nombre),i=i.replace("{nick}",e[o]._nick),a+=i}else t+=stringListObservadores().replace("{nick}",e[o]._nick);a+="</ul>",t+="</ul>",e_jugadores.html(a),e_observadores.html(t)}function stringListJugadores(){var e='<li class="estado list-group-item" data-jugador="{data}" style="padding:10px;"><img src = "{ficha}" alt="{nombreFicha}" class="listFicha"/><p>{nick}</p></li>';return e}function stringListObservadores(){var e='<li class="list-group-item" style="border: none;">{nick}</li>';return e}function pintarHistorico(e,a){pintaTablero(e),$(e_jugadores.selector+' .estado[data-jugador="'+a+'"]').addClass("turno")}function pintaTablero(e){$(".casilla").html("");for(var a=0;a<e.length;a++)for(var t=0;t<e.length;t++)""!=e[a][t]&&pintarFicha(e[a][t],a+"-"+t)}function pintarFicha(e,a){var t="#"+a;$(t).find("img").length||$(t).html('<img src="'+e+'" alt="imagen" class="img-responsive" style="min-width: 18px; margin: 0px auto"/>')}function bloqueaBoton(e,a,t){e>=2&&!a&&!t&&jugador._activo?e_btn_iniciar_juego.removeAttr("disabled"):e_btn_iniciar_juego.attr("disabled","disabled")}function clicCasilla(e){var e=$(e).attr("id");movimientoJugador(e)}function movimientoJugador(e){socket.emit("process_move",[mesa._noMesa,e])}function verificarGanador(e){""!=e.ganador&&(e_modal_title.html(e.jugador._nick),e_modal_creditos_usuario.html(jugador._creditos),e_modal_creditos_mesa.html(mesa._puntosAcumulados),openModal("#ganador"),jugador._nick==e.jugador._nick&&(e_modal_creditos_usuario.html(jugador._creditos),e_modal_ajustar_juego.html(configGame())))}function configGame(){return html='<label><i class="fa fa-cogs"></i> Ajustes del nuevo juego</label>',html+='<form id="form-ajustes" role="form">',html+='<div class="row">',html+='<div class="col-xs-offset-3 col-md-offset-3 col-sm-offset-3 col-md-6 col-sm-6 col-xs-6 text-left" style="margin-top: 20px; margin-bottom: 20px;">',html+='<div class="well">',html+='<div style="margin-bottom: 20px;">',html+="<span>Tiempo de tirada</span>",html+='<select id="tiempo-tirada" class="form-control">',html+='<option value="5">5 seg.</option>',html+='<option value="10">10 seg.</option>',html+='<option value="15" selected="selected">15 seg.</option>',html+='<option value="20">20 seg.</option>',html+="</select>",html+="</div>",html+='<div style="margin-bottom: 20px;">',html+="<span>Seleccione la epoca</span>",html+='<select id="epoca-juego" class="form-control">',html+='<option value="Feudalismo">Feudalismo</option>',html+='<option value="Capitalismo" selected="selected">Capitalismo</option>',html+='<option value="Neoliberalismo">Neoliberalismo</option>',html+="</select>",html+="</div>",html+='<button id="reiniciar" type="button" onclick="settingGame();" class="btn btn-primary pull-right">Reiniciar <i class="fa fa-refresh"></i></button>',html+='<div class="clearfix"></div>',html+="</div>",html+="</div>",html+="</div>",html+="</form>",html}function openModal(e){$(e).appendTo("body").modal("show"),$(e+" .modal-dialog").draggable()}function closeModal(e){$(e).modal("hide")}function itemNewMessage(e){0==$(e_chat.selector+" li").length&&e_chat.html("");var a="";a=e[0].patrocinador?e[0].patrocinador.ficha:"../../images/icon-mesas/observador.png";var t=strinLiChat().replace("{imgUrl}",a);return t=t.replace("{nick}",e[0].nick),t=t.replace("{msg}",e[1])}function strinLiChat(){var e='<li class="left clearfix"><span class="chat-img pull-left"> <img src="{imgUrl}" alt="Ficha" style="width: 40px; height: 40px; border-radius: 50%;" /></span><div class="chat-body clearfix"><div class="header"><strong class="primary-font">{nick} dice: </strong></div><p>{msg}</p></div></li>';return e}e_btn_iniciar_juego.click(function(){socket.emit("iniciarJuego",mesa._noMesa)}),e_btn_send_msg.click(function(e){e.preventDefault();var a=e_input_msg.val();if(""!=a)socket.emit("sendMessage",[jugador,a,mesa._noMesa]),e_input_msg.val("");else{var t={title:"Â¡Oops!, lo sentimos",msg:"El campo de mensaje es requerido",tipo:"danger"};procesaNotificacion(t)}});